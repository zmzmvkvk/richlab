{"ast":null,"code":"import React,{useState}from\"react\";import styles from\"../css/Login.module.css\";import axios from\"axios\";import{useAuth}from\"../context/AuthContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[userid,setId]=useState(\"\");const[userpw,setPw]=useState(\"\");const{logout,login,isLoggedIn}=useAuth();const handleLogin=async event=>{event.preventDefault();try{const response=await axios.post(\"/login\",{userid,userpw});login(response.data.token);// 로그인 상태 업데이트\n}catch(error){console.error(\"Login error:\",error);}};const handleLogout=async e=>{e.preventDefault();await logout();};if(!isLoggedIn){return/*#__PURE__*/_jsxs(\"div\",{className:styles.LoginWrap,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.LoginLogo,children:/*#__PURE__*/_jsx(\"img\",{src:\"\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC548\\uB155\\uD558\\uC138\\uC694.\",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC11C\\uBE44\\uC2A4 \\uC774\\uC6A9\\uC744 \\uC704\\uD574 \\uB85C\\uADF8\\uC778\\uC744 \\uD574\\uC8FC\\uC138\\uC694.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:styles.LoginFormWrap,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.LoginEmailWrap,children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"ID\",id:\"loginEmail\",className:styles.LoginEmail,value:userid,onChange:e=>setId(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:styles.LoginPasswordWrap,children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"PASSWORD\",id:\"loginPassword\",className:styles.LoginPassword,value:userpw,onChange:e=>setPw(e.target.value)})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:styles.LoginSubmitButton,children:\"\\uB85C\\uADF8\\uC778\\uD558\\uAE30\"})]})]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:styles.LoginWrap,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.LoginLogo,children:/*#__PURE__*/_jsx(\"img\",{src:\"\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC548\\uB155\\uD558\\uC138\\uC694.\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uAE40\\uC11C\\uC900\\uB2D8.\"]}),/*#__PURE__*/_jsx(\"button\",{className:styles.LogoutButton,onClick:handleLogout,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\\uD558\\uAE30\"})]});}};export default Login;","map":{"version":3,"names":["React","useState","styles","axios","useAuth","jsx","_jsx","jsxs","_jsxs","Login","userid","setId","userpw","setPw","logout","login","isLoggedIn","handleLogin","event","preventDefault","response","post","data","token","error","console","handleLogout","e","className","LoginWrap","children","LoginLogo","src","alt","onSubmit","LoginFormWrap","LoginEmailWrap","type","placeholder","id","LoginEmail","value","onChange","target","LoginPasswordWrap","LoginPassword","LoginSubmitButton","LogoutButton","onClick"],"sources":["/Users/tjwns3481/Desktop/workspace/autoSourcing/client/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport styles from \"../css/Login.module.css\";\nimport axios from \"axios\";\nimport { useAuth } from \"../context/AuthContext\";\n\nconst Login = () => {\n  const [userid, setId] = useState(\"\");\n  const [userpw, setPw] = useState(\"\");\n  const { logout, login, isLoggedIn } = useAuth();\n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n    try {\n      const response = await axios.post(\"/login\", {\n        userid,\n        userpw,\n      });\n      login(response.data.token); // 로그인 상태 업데이트\n    } catch (error) {\n      console.error(\"Login error:\", error);\n    }\n  };\n  const handleLogout = async (e) => {\n    e.preventDefault();\n    await logout();\n  };\n  if (!isLoggedIn) {\n    return (\n      <div className={styles.LoginWrap}>\n        <h3 className={styles.LoginLogo}>\n          <img src=\"\" alt=\"\" />\n        </h3>\n        <p>\n          안녕하세요.\n          <br />\n        </p>\n        <span>서비스 이용을 위해 로그인을 해주세요.</span>\n\n        <form onSubmit={handleLogin} className={styles.LoginFormWrap}>\n          <div className={styles.LoginEmailWrap}>\n            <input\n              type=\"text\"\n              placeholder=\"ID\"\n              id=\"loginEmail\"\n              className={styles.LoginEmail}\n              value={userid}\n              onChange={(e) => setId(e.target.value)}\n            />\n          </div>\n\n          <div className={styles.LoginPasswordWrap}>\n            <input\n              type=\"password\"\n              placeholder=\"PASSWORD\"\n              id=\"loginPassword\"\n              className={styles.LoginPassword}\n              value={userpw}\n              onChange={(e) => setPw(e.target.value)}\n            />\n          </div>\n\n          <button type=\"submit\" className={styles.LoginSubmitButton}>\n            로그인하기\n          </button>\n        </form>\n      </div>\n    );\n  } else {\n    return (\n      <div className={styles.LoginWrap}>\n        <h3 className={styles.LoginLogo}>\n          <img src=\"\" alt=\"\" />\n        </h3>\n        <p>\n          안녕하세요.\n          <br />\n          김서준님.\n        </p>\n        <button className={styles.LogoutButton} onClick={handleLogout}>\n          로그아웃하기\n        </button>\n      </div>\n    );\n  }\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}